---

bigbluebutton_apt_key: "http://ubuntu.bigbluebutton.org/repo/bigbluebutton.asc"
# Install BigBlueButton 2.0
bigbluebutton_apt_source: "deb http://ubuntu.bigbluebutton.org/xenial-200/ bigbluebutton-xenial main"
# Install BigBlueButton 1.1
# bigbluebutton_apt_source: "deb http://ubuntu.bigbluebutton.org/xenial-110/ bigbluebutton-xenial main"
bigbluebutton_apt_package: bigbluebutton

# Install HTML5 client
bigbluebutton_html5: false
# Install Mconf MCS-SIP
bigbluebutton_sip: false

# Setup Chrome extensions for WebRTC Desktop Sharing
bigbluebutton_screenshare_extension_url:
bigbluebutton_screenshare_extension_key:

bigbluebutton_branding_welcome: '<br>Welcome to <b>%%CONFNAME%%</b>!<br>'
bigbluebutton_branding_welcome_footer: 'For more information, visit <a href="https://mconf.com" target="_blank"><u>mconf.com</u></a>.'
bigbluebutton_branding_layout:
bigbluebutton_branding_logo_client: /logo_client.png
bigbluebutton_branding_logo_playback:
bigbluebutton_branding_copyright: '&#169; 2018 Mconf Tecnologia &#183; <u><a href="https://mconf.com" target="_blank">https://mconf.com</a></u>'
bigbluebutton_branding_copyright_html5: 'Â© 2018 Mconf Tecnologia'
bigbluebutton_branding_toolbar_color: '0x33132A'
bigbluebutton_branding_toolbar_color_alphas: '0, 0'
bigbluebutton_branding_deskshare_windows: https://s3-sa-east-1.amazonaws.com/assets.mconf.com/Mconf+Deskshare-1.0.2.4-installer-32bit-unsigned.exe
bigbluebutton_branding_deskshare_mac: https://s3-sa-east-1.amazonaws.com/assets.mconf.com/Mconf+Deskshare-1.0.2.4-no-audio-installer-signed.dmg
bigbluebutton_branding_playback_error: This recording could not be found
bigbluebutton_branding_playback_title: Recording Playback
bigbluebutton_branding_playback_copyright: '<p>Recorded with <a target="_blank" href="https://mconf.com/">Mconf</a>.</p><p>Use <a target="_blank" href="http://mozilla.org/firefox">Mozilla Firefox</a> or <a target="_blank" href="http://google.com/chrome/">Google Chrome</a> to play this recording.</p>'

bigbluebutton_apt_state: latest
# bigbluebutton_apt_state: present

# Install/remove demos
bigbluebutton_demos: false

# Install/remove webhooks
bigbluebutton_webhooks: true

# Open redis to external access. Set to false remove external access.
bigbluebutton_redis_bind: false
# To open use:
# bigbluebutton_redis_bind:
#   - 0.0.0.0

# Set to false to have the default rap scripts.
# Set to true to have process/publish scripts in separate resque workers.
bigbluebutton_external_rap: false

# Fetch source code from
bigbluebutton_external_rap_repo: https://github.com/daronco/bigbluebutton.git
bigbluebutton_external_rap_ref: rap-on-docker

# Deploy an SSL certificate from local repository
bigbluebutton_local_ssl_certificate:
bigbluebutton_local_ssl_certificate_key:

bigbluebutton_sysctl:
  - { name: 'net.ipv4.tcp_syncookies' , value: '1' }
  - { name: 'net.ipv4.tcp_timestamps' , value: '0' }
  - { name: 'net.ipv4.icmp_echo_ignore_broadcasts' , value: '1' }
  - { name: 'net.ipv4.conf.all.log_martians' , value: '1' }
  - { name: 'net.ipv4.conf.all.accept_redirects' , value: '0' }
  - { name: 'net.ipv4.conf.default.accept_redirects' , value: '0' }
  - { name: 'net.ipv4.conf.all.secure_redirects' , value: '0' }
  - { name: 'net.ipv4.conf.default.secure_redirects' , value: '0' }
  - { name: 'net.ipv4.conf.all.accept_source_route' , value: '0' }
  - { name: 'net.ipv4.conf.default.accept_source_route' , value: '0' }
  - { name: 'net.ipv6.conf.all.accept_source_route' , value: '0' }
  - { name: 'net.ipv6.conf.default.accept_source_route' , value: '0' }
  - { name: 'net.ipv6.conf.all.accept_redirects' , value: '0' }
  - { name: 'net.ipv6.conf.default.accept_redirects' , value: '0' }

bigbluebutton_config_xml:
  - { xpath: '/config/branding', attribute: 'logo', value: 'logo.png' }
  - { xpath: '/config/branding', attribute: 'copyright', value: '{{ bigbluebutton_branding_copyright }}' }
  - { xpath: '/config/branding', attribute: 'toolbarColor', value: '{{ bigbluebutton_branding_toolbar_color }}' }
  - { xpath: '/config/branding', attribute: 'toolbarColorAlphas', value: '{{ bigbluebutton_branding_toolbar_color_alphas }}' }
  - { xpath: '/config/mconfDeskshare', attribute: 'downloadLinkWindows', value: '{{ bigbluebutton_branding_deskshare_windows }}' }
  - { xpath: '/config/mconfDeskshare', attribute: 'downloadLinkMacOS', value: '{{ bigbluebutton_branding_deskshare_mac }}' }
  - { xpath: '//module[@name="PhoneModule"]', attribute: 'showWebRTCStats', value: 'true' }
  - { xpath: '//module[@name="ScreenshareModule"]', attribute: 'chromeExtensionLink', value: '{{ bigbluebutton_screenshare_extension_url }}', run: '{{ bigbluebutton_html5 }}' }
  - { xpath: '//module[@name="ScreenshareModule"]', attribute: 'chromeExtensionKey', value: '{{ bigbluebutton_screenshare_extension_key }}', run: '{{ bigbluebutton_html5 }}' }
  - { xpath: '//module[@name="ScreenshareModule"]', attribute: 'tryKurentoWebRTC', value: 'true', run: '{{ bigbluebutton_html5 }}' }
  - { xpath: '//module[@name="ScreenshareModule"]', attribute: 'tryWebRTCFirst', value: 'true', run: '{{ bigbluebutton_html5 }}' }
  - { xpath: '//module[@name="PhoneModule"]', attribute: 'enableOutboundCalls', value: 'true', run: '{{ bigbluebutton_sip }}' }

bigbluebutton_config_xml_custom:

bigbluebutton_stun_server:
  - stun:stun.l.google.com:19302
  - stun:stun1.mconf.com:3478

bigbluebutton_sounds_frequency:
  - 48000
  - 32000
  - 16000
  - 8000
bigbluebutton_sounds_name_version:
bigbluebutton_sounds_prefix: $${sounds_dir}/en/us/callie
bigbluebutton_sounds_profile:
  - { name: 'muted-sound', value: '' }
  - { name: 'unmuted-sound', value: '' }
  - { name: 'alone-sound', value: '' }
  - { name: 'moh-sound', value: '' }
  - { name: 'comfort-noise', value: 'false' }

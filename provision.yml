- hosts: with-certbot
  roles:
  - certbot

# Recording workers
- hosts: rec-worker
  roles:
  - rec-worker

# Recording proxies
- hosts: rec-proxy
  roles:
  - { role: certbot, when: certbot_enabled }
  - rec-proxy
- hosts: rec-proxy-self-signed
  roles:
  # - self-signed-cert
  - rec-proxy

# WordPress sites
- hosts: wp
  roles:
  - wp

# Mconf-DB
- hosts: mconf-db
  roles:
  - mconf-db

# Mconf-Web
- hosts: mconf-web
  roles:
  - mconf-web
# Mconf-Web-Reports
- hosts: mconf-web-reports
  roles:
  - mconf-web-reports

# Mconf-LB
- hosts: mconf-lb
  roles:
  - mconf-lb

# Mconf-Console
- hosts: mconf-console
  roles:
  - mconf-console

# Nagios
- hosts: nagios
  roles:
  - nagios

# Zabbix
- hosts: zabbix
  roles:
  - zabbix

# BigBlueButton
- hosts: bigbluebutton
  roles:
  - bigbluebutton
  - rec-worker-authorized

# Mconf-Live
- hosts: mconf-live
  roles:
  - mconf-live

# Kurento
- hosts: kurento
  roles:
  - kurento

# Docker registry
- hosts: docker-registry
  roles:
  - docker-registry

# VTraining
- hosts: vtraining
  roles:
  - vtraining-portal
  - vtraining-mosaico
  - vtraining-debriefing

- hosts: vtraining-portal
  roles:
  - node
  - ruby
  - vtraining-portal

- hosts: vtraining-mosaico
  roles:
  - vtraining-mosaico

- hosts: vtraining-debriefing
  roles:
  - vtraining-debriefing

- hosts: mconf-aggr-zabbix
  roles:
  - mconf-aggr
  vars:
  - mconf_aggr_type: 'zabbix'

- hosts: mconf-aggr-conf
  roles:
  - mconf-aggr
  vars:
  - mconf_aggr_type: 'conf'
